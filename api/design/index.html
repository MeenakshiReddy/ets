<html>
<head>
    <title>WASP - Control PANEL
    </title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/1000hz-bootstrap-validator/0.11.5/validator.min.js"></script>


    <link rel="stylesheet" href="styles/style.css">
    <script>
        $(document).ready(function () {

            $("div.employee").click(function () {
                alert($(this));
            });

        });
    </script>

</head>
<body>


<nav class="navbar navbar-default">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" href="index.jsp">
                WASP
            </a>
        </div>

        <ul class="nav navbar-nav navbar-right">
            <li><a href="index.jsp"><span class="glyphicon glyphicon-home"></span> Home</a></li>
            <li><a href="employees.jsp"><span class="glyphicon glyphicon-user"></span> Employees</a></li>
            <li><a href="settings.jsp"><span class="glyphicon glyphicon-cog"></span> Settings</a></li>
            <li><a href="signout.jsp"><span class="glyphicon glyphicon-log-out"></span> SignOut</a></li>
        </ul>
    </div>
</nav>

<div class="container-fluid">


    <div class="row">

        <!--Employees-->
        <div id="employees" class="col-md-3" style="height: 89%;overflow: scroll;">

            <div class="employee" data-name="John" data-lat="24.466667" data-lon="54.366669">
                <p class="employee_name"><strong>John</strong></p>
                <p class="employee_status">last seen 2 minutes ago in Abudhabi</p>
                <button type="button" class="btn"><span class="glyphicon glyphicon-map-marker"></span>
                </button>
            </div>

            <div class="employee" data-name="David" data-lat="25.322327" data-lon="55.513641">
                <p class="employee_name"><strong>David</strong></p>
                <p class="employee_status">last seen 2 minutes ago in Sharjah</p>
                <button type="button" class="btn"><span class="glyphicon glyphicon-map-marker"></span>
                </button>
            </div>


        </div>

        <!--Map-->
        <div class="col-md-9">
            <div id="map" style="width: 100%;height: 89%    ;">

            </div>
        </div>
    </div>
</div>
<script>

    //Initializing map
    function initMap() {

        var dubai = new google.maps.LatLng(25.276987, 55.296249);
        var mapCanvas = document.getElementById("map");
        var mapOptions = {
            center: dubai,
            zoom: 10
        }
        var map = new google.maps.Map(mapCanvas, mapOptions);

        //Pinning last location of employees
        var employees = $("div#employees").children();
        console.log("Found " + employees.length + " employee(s)");

        for (var i = 0; i < employees.length; i++) {

            var name = $(employees[i]).data("name");
            var lat = $(employees[i]).data("lat");
            var lon = $(employees[i]).data("lon");

            var gLatLon = new google.maps.LatLng(lat,lon);

        }

    }

</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCwmri1d59R8EH5zyXAw-BXRcEMFUtKjA4&callback=initMap"></script>
</body>
</html>

